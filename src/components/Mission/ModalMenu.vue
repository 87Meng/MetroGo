<template>
  <div class="modal-overlay">
    <div class="modal-container modal-large">
      <div v-if="type === 'rewards' || type === 'stampBook'">
        <div class="modal-header">
          <div class="modal-title title1 bold">
            {{ type === "rewards" ? "獎勵領取" : "集章冊" }}
          </div>
          <button @click="$emit('close')" class="close-btn light">
            <span>&#10005;</span>
          </button>
        </div>
        <div class="modal-content">
          <!-- Tab 按鈕 -->
          <div>
            <button
              class="tabs title1"
              :class="{ active: activeTab === 'task' }"
              @click="activeTab = 'task'"
            >
              定位任務
            </button>
            <button
              class="tabs title1"
              :class="{ active: activeTab === 'special' }"
              @click="activeTab = 'special'"
            >
              特殊任務
            </button>
            <button
              class="tabs title1"
              :class="{ active: activeTab === 'achievement' }"
              @click="activeTab = 'achievement'"
            >
              成就任務
            </button>
          </div>

          <div class="title2 bold">
            <div class="tab-content" v-if="type === 'rewards'">
              <div v-if="activeTab === 'task'">
                <TaskDisplay
                  v-for="(task, index) in locationTasks"
                  :key="index"
                  :task="task"
                  :onClaim="() => claimTaskReward('定位任務', index)"
                />
              </div>
              <div v-if="activeTab === 'achievement'">
                <TaskDisplay
                  v-for="(task, index) in achievementTasks"
                  :key="index"
                  :task="task"
                  :onClaim="() => claimTaskReward('成就任務', index)"
                />
              </div>
              <div v-if="activeTab === 'special'">
                <TaskDisplay
                  v-for="(task, index) in specialTasks"
                  :key="index"
                  :task="task"
                  :onClaim="() => claimTaskReward('特殊任務', index)"
                />
              </div>
            </div>
            <!-- 集章冊 -->

            <div class="stamp-content">
              <div class="tab-content stamp">
                <div v-if="activeTab === 'task'" class="reward-gerneral">
                  <!-- <BadgeDisplay
                    v-for="(badge, index) in completedLocationBadges"
                    :key="index"
                    :badge="badge"
                  /> -->

                  <div class="red-line-group">
                    <div class="reward-icon red">
                      <div class="task-title fz-16">
                        淡水<br />
                        信義線<br />
                        <span class="drop-down">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="24"
                            height="13"
                            viewBox="0 0 24 13"
                            fill="none"
                          >
                            <g clip-path="url(#clip0_2427_6246)">
                              <path
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                d="M11.2894 2.55009L5.63235 8.20709L7.04635 9.62109L11.9964 4.67109L16.9464 9.62109L18.3604 8.20709L12.7034 2.55009C12.5158 2.36262 12.2615 2.25731 11.9964 2.25731C11.7312 2.25731 11.4769 2.36262 11.2894 2.55009Z"
                                fill="white"
                              />
                            </g>
                            <defs>
                              <clipPath id="clip0_2427_6246">
                                <rect
                                  width="12"
                                  height="24"
                                  fill="white"
                                  transform="matrix(0 -1 -1 0 24 12.707)"
                                />
                              </clipPath>
                            </defs>
                          </svg>
                        </span>
                      </div>
                    </div>
                    <div
                      class="reward-icon gray"
                      style="background-color: #ccd1d5"
                      v-for="(task, index) in redTasks"
                      :key="index"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="42"
                        height="51"
                        viewBox="0 0 42 51"
                        fill="none"
                      >
                        <path
                          d="M36.1667 24.208H23.25V11.2913H36.1667M32.2917 39.708C31.264 39.708 30.2783 39.2997 29.5516 38.573C28.8249 37.8463 28.4167 36.8607 28.4167 35.833C28.4167 34.8053 28.8249 33.8197 29.5516 33.093C30.2783 32.3663 31.264 31.958 32.2917 31.958C33.3194 31.958 34.305 32.3663 35.0317 33.093C35.7584 33.8197 36.1667 34.8053 36.1667 35.833C36.1667 36.8607 35.7584 37.8463 35.0317 38.573C34.305 39.2997 33.3194 39.708 32.2917 39.708ZM18.0833 24.208H5.16667V11.2913H18.0833M9.04167 39.708C8.01395 39.708 7.02833 39.2997 6.30163 38.573C5.57492 37.8463 5.16667 36.8607 5.16667 35.833C5.16667 34.8053 5.57492 33.8197 6.30163 33.093C7.02833 32.3663 8.01395 31.958 9.04167 31.958C10.0694 31.958 11.055 32.3663 11.7817 33.093C12.5084 33.8197 12.9167 34.8053 12.9167 35.833C12.9167 36.8607 12.5084 37.8463 11.7817 38.573C11.055 39.2997 10.0694 39.708 9.04167 39.708ZM20.6667 0.958008C9.24833 0.958008 0 2.24967 0 11.2913V35.833C0 38.231 0.952602 40.5308 2.64824 42.2264C4.34388 43.9221 6.64367 44.8747 9.04167 44.8747L5.16667 48.7497V50.0413H36.1667V48.7497L32.2917 44.8747C34.6897 44.8747 36.9895 43.9221 38.6851 42.2264C40.3807 40.5308 41.3333 38.231 41.3333 35.833V11.2913C41.3333 2.24967 32.085 0.958008 20.6667 0.958008Z"
                          fill="white"
                        />
                      </svg>
                      <div class="task-title">{{ task.title }}</div>
                    </div>
                    <div class="long-line red position-absolute"></div>
                  </div>
                  <div class="blue-line-group">
                    <div class="reward-icon blue">
                      <div class="task-title fz-16">
                        板南線<br />
                        <span class="drop-down">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="24"
                            height="13"
                            viewBox="0 0 24 13"
                            fill="none"
                          >
                            <g clip-path="url(#clip0_2427_6246)">
                              <path
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                d="M11.2894 2.55009L5.63235 8.20709L7.04635 9.62109L11.9964 4.67109L16.9464 9.62109L18.3604 8.20709L12.7034 2.55009C12.5158 2.36262 12.2615 2.25731 11.9964 2.25731C11.7312 2.25731 11.4769 2.36262 11.2894 2.55009Z"
                                fill="white"
                              />
                            </g>
                            <defs>
                              <clipPath id="clip0_2427_6246">
                                <rect
                                  width="12"
                                  height="24"
                                  fill="white"
                                  transform="matrix(0 -1 -1 0 24 12.707)"
                                />
                              </clipPath>
                            </defs>
                          </svg>
                        </span>
                      </div>
                    </div>
                    <div
                      class="reward-icon gray"
                      style="background-color: #ccd1d5"
                      v-for="(task, index) in blueTasks"
                      :key="index"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="42"
                        height="51"
                        viewBox="0 0 42 51"
                        fill="none"
                      >
                        <path
                          d="M36.1667 24.208H23.25V11.2913H36.1667M32.2917 39.708C31.264 39.708 30.2783 39.2997 29.5516 38.573C28.8249 37.8463 28.4167 36.8607 28.4167 35.833C28.4167 34.8053 28.8249 33.8197 29.5516 33.093C30.2783 32.3663 31.264 31.958 32.2917 31.958C33.3194 31.958 34.305 32.3663 35.0317 33.093C35.7584 33.8197 36.1667 34.8053 36.1667 35.833C36.1667 36.8607 35.7584 37.8463 35.0317 38.573C34.305 39.2997 33.3194 39.708 32.2917 39.708ZM18.0833 24.208H5.16667V11.2913H18.0833M9.04167 39.708C8.01395 39.708 7.02833 39.2997 6.30163 38.573C5.57492 37.8463 5.16667 36.8607 5.16667 35.833C5.16667 34.8053 5.57492 33.8197 6.30163 33.093C7.02833 32.3663 8.01395 31.958 9.04167 31.958C10.0694 31.958 11.055 32.3663 11.7817 33.093C12.5084 33.8197 12.9167 34.8053 12.9167 35.833C12.9167 36.8607 12.5084 37.8463 11.7817 38.573C11.055 39.2997 10.0694 39.708 9.04167 39.708ZM20.6667 0.958008C9.24833 0.958008 0 2.24967 0 11.2913V35.833C0 38.231 0.952602 40.5308 2.64824 42.2264C4.34388 43.9221 6.64367 44.8747 9.04167 44.8747L5.16667 48.7497V50.0413H36.1667V48.7497L32.2917 44.8747C34.6897 44.8747 36.9895 43.9221 38.6851 42.2264C40.3807 40.5308 41.3333 38.231 41.3333 35.833V11.2913C41.3333 2.24967 32.085 0.958008 20.6667 0.958008Z"
                          fill="white"
                        />
                      </svg>
                      <div class="task-title">{{ task.title }}</div>
                    </div>
                    <div class="long-line blue"></div>
                  </div>
                  <div class="green-line-group">
                    <div class="reward-icon green">
                      <div class="task-title fz-16">
                        松山<br />新店線<br />
                        <span class="drop-down">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="24"
                            height="13"
                            viewBox="0 0 24 13"
                            fill="none"
                          >
                            <g clip-path="url(#clip0_2427_6246)">
                              <path
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                d="M11.2894 2.55009L5.63235 8.20709L7.04635 9.62109L11.9964 4.67109L16.9464 9.62109L18.3604 8.20709L12.7034 2.55009C12.5158 2.36262 12.2615 2.25731 11.9964 2.25731C11.7312 2.25731 11.4769 2.36262 11.2894 2.55009Z"
                                fill="white"
                              />
                            </g>
                            <defs>
                              <clipPath id="clip0_2427_6246">
                                <rect
                                  width="12"
                                  height="24"
                                  fill="white"
                                  transform="matrix(0 -1 -1 0 24 12.707)"
                                />
                              </clipPath>
                            </defs>
                          </svg>
                        </span>
                      </div>
                    </div>
                    <div
                      class="reward-icon gray"
                      style="background-color: #ccd1d5"
                      v-for="(task, index) in greenTasks"
                      :key="index"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="42"
                        height="51"
                        viewBox="0 0 42 51"
                        fill="none"
                      >
                        <path
                          d="M36.1667 24.208H23.25V11.2913H36.1667M32.2917 39.708C31.264 39.708 30.2783 39.2997 29.5516 38.573C28.8249 37.8463 28.4167 36.8607 28.4167 35.833C28.4167 34.8053 28.8249 33.8197 29.5516 33.093C30.2783 32.3663 31.264 31.958 32.2917 31.958C33.3194 31.958 34.305 32.3663 35.0317 33.093C35.7584 33.8197 36.1667 34.8053 36.1667 35.833C36.1667 36.8607 35.7584 37.8463 35.0317 38.573C34.305 39.2997 33.3194 39.708 32.2917 39.708ZM18.0833 24.208H5.16667V11.2913H18.0833M9.04167 39.708C8.01395 39.708 7.02833 39.2997 6.30163 38.573C5.57492 37.8463 5.16667 36.8607 5.16667 35.833C5.16667 34.8053 5.57492 33.8197 6.30163 33.093C7.02833 32.3663 8.01395 31.958 9.04167 31.958C10.0694 31.958 11.055 32.3663 11.7817 33.093C12.5084 33.8197 12.9167 34.8053 12.9167 35.833C12.9167 36.8607 12.5084 37.8463 11.7817 38.573C11.055 39.2997 10.0694 39.708 9.04167 39.708ZM20.6667 0.958008C9.24833 0.958008 0 2.24967 0 11.2913V35.833C0 38.231 0.952602 40.5308 2.64824 42.2264C4.34388 43.9221 6.64367 44.8747 9.04167 44.8747L5.16667 48.7497V50.0413H36.1667V48.7497L32.2917 44.8747C34.6897 44.8747 36.9895 43.9221 38.6851 42.2264C40.3807 40.5308 41.3333 38.231 41.3333 35.833V11.2913C41.3333 2.24967 32.085 0.958008 20.6667 0.958008Z"
                          fill="white"
                        />
                      </svg>
                      <div class="task-title">{{ task.title }}</div>
                    </div>
                    <div class="long-line green"></div>
                  </div>
                  <div class="yellow-line-group">
                    <div class="reward-icon yellow">
                      <div class="task-title fz-16">
                        中和<br />新蘆線<br />
                        <span class="drop-down">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="24"
                            height="13"
                            viewBox="0 0 24 13"
                            fill="none"
                          >
                            <g clip-path="url(#clip0_2427_6246)">
                              <path
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                d="M11.2894 2.55009L5.63235 8.20709L7.04635 9.62109L11.9964 4.67109L16.9464 9.62109L18.3604 8.20709L12.7034 2.55009C12.5158 2.36262 12.2615 2.25731 11.9964 2.25731C11.7312 2.25731 11.4769 2.36262 11.2894 2.55009Z"
                                fill="white"
                              />
                            </g>
                            <defs>
                              <clipPath id="clip0_2427_6246">
                                <rect
                                  width="12"
                                  height="24"
                                  fill="white"
                                  transform="matrix(0 -1 -1 0 24 12.707)"
                                />
                              </clipPath>
                            </defs>
                          </svg>
                        </span>
                      </div>
                    </div>
                    <div
                      class="reward-icon gray"
                      style="background-color: #ccd1d5"
                      v-for="(task, index) in yellowTasks"
                      :key="index"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="42"
                        height="51"
                        viewBox="0 0 42 51"
                        fill="none"
                      >
                        <path
                          d="M36.1667 24.208H23.25V11.2913H36.1667M32.2917 39.708C31.264 39.708 30.2783 39.2997 29.5516 38.573C28.8249 37.8463 28.4167 36.8607 28.4167 35.833C28.4167 34.8053 28.8249 33.8197 29.5516 33.093C30.2783 32.3663 31.264 31.958 32.2917 31.958C33.3194 31.958 34.305 32.3663 35.0317 33.093C35.7584 33.8197 36.1667 34.8053 36.1667 35.833C36.1667 36.8607 35.7584 37.8463 35.0317 38.573C34.305 39.2997 33.3194 39.708 32.2917 39.708ZM18.0833 24.208H5.16667V11.2913H18.0833M9.04167 39.708C8.01395 39.708 7.02833 39.2997 6.30163 38.573C5.57492 37.8463 5.16667 36.8607 5.16667 35.833C5.16667 34.8053 5.57492 33.8197 6.30163 33.093C7.02833 32.3663 8.01395 31.958 9.04167 31.958C10.0694 31.958 11.055 32.3663 11.7817 33.093C12.5084 33.8197 12.9167 34.8053 12.9167 35.833C12.9167 36.8607 12.5084 37.8463 11.7817 38.573C11.055 39.2997 10.0694 39.708 9.04167 39.708ZM20.6667 0.958008C9.24833 0.958008 0 2.24967 0 11.2913V35.833C0 38.231 0.952602 40.5308 2.64824 42.2264C4.34388 43.9221 6.64367 44.8747 9.04167 44.8747L5.16667 48.7497V50.0413H36.1667V48.7497L32.2917 44.8747C34.6897 44.8747 36.9895 43.9221 38.6851 42.2264C40.3807 40.5308 41.3333 38.231 41.3333 35.833V11.2913C41.3333 2.24967 32.085 0.958008 20.6667 0.958008Z"
                          fill="white"
                        />
                      </svg>
                      <div class="task-title">{{ task.title }}</div>
                    </div>
                    <div class="long-line yellow"></div>
                  </div>
                  <div class="brown-line-group">
                    <div class="reward-icon brown">
                      <div class="task-title fz-16">
                        文湖線<br />
                        <span class="drop-down">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="24"
                            height="13"
                            viewBox="0 0 24 13"
                            fill="none"
                          >
                            <g clip-path="url(#clip0_2427_6246)">
                              <path
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                d="M11.2894 2.55009L5.63235 8.20709L7.04635 9.62109L11.9964 4.67109L16.9464 9.62109L18.3604 8.20709L12.7034 2.55009C12.5158 2.36262 12.2615 2.25731 11.9964 2.25731C11.7312 2.25731 11.4769 2.36262 11.2894 2.55009Z"
                                fill="white"
                              />
                            </g>
                            <defs>
                              <clipPath id="clip0_2427_6246">
                                <rect
                                  width="12"
                                  height="24"
                                  fill="white"
                                  transform="matrix(0 -1 -1 0 24 12.707)"
                                />
                              </clipPath>
                            </defs>
                          </svg>
                        </span>
                      </div>
                    </div>
                    <div
                      class="reward-icon gray"
                      style="background-color: #ccd1d5"
                      v-for="(task, index) in brownTasks"
                      :key="index"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="42"
                        height="51"
                        viewBox="0 0 42 51"
                        fill="none"
                      >
                        <path
                          d="M36.1667 24.208H23.25V11.2913H36.1667M32.2917 39.708C31.264 39.708 30.2783 39.2997 29.5516 38.573C28.8249 37.8463 28.4167 36.8607 28.4167 35.833C28.4167 34.8053 28.8249 33.8197 29.5516 33.093C30.2783 32.3663 31.264 31.958 32.2917 31.958C33.3194 31.958 34.305 32.3663 35.0317 33.093C35.7584 33.8197 36.1667 34.8053 36.1667 35.833C36.1667 36.8607 35.7584 37.8463 35.0317 38.573C34.305 39.2997 33.3194 39.708 32.2917 39.708ZM18.0833 24.208H5.16667V11.2913H18.0833M9.04167 39.708C8.01395 39.708 7.02833 39.2997 6.30163 38.573C5.57492 37.8463 5.16667 36.8607 5.16667 35.833C5.16667 34.8053 5.57492 33.8197 6.30163 33.093C7.02833 32.3663 8.01395 31.958 9.04167 31.958C10.0694 31.958 11.055 32.3663 11.7817 33.093C12.5084 33.8197 12.9167 34.8053 12.9167 35.833C12.9167 36.8607 12.5084 37.8463 11.7817 38.573C11.055 39.2997 10.0694 39.708 9.04167 39.708ZM20.6667 0.958008C9.24833 0.958008 0 2.24967 0 11.2913V35.833C0 38.231 0.952602 40.5308 2.64824 42.2264C4.34388 43.9221 6.64367 44.8747 9.04167 44.8747L5.16667 48.7497V50.0413H36.1667V48.7497L32.2917 44.8747C34.6897 44.8747 36.9895 43.9221 38.6851 42.2264C40.3807 40.5308 41.3333 38.231 41.3333 35.833V11.2913C41.3333 2.24967 32.085 0.958008 20.6667 0.958008Z"
                          fill="white"
                        />
                      </svg>
                      <div class="task-title">{{ task.title }}</div>
                    </div>
                    <div class="long-line brown"></div>
                  </div>
                </div>
                <div v-if="activeTab === 'achievement'">
                  <!-- <BadgeDisplay
                  v-for="(badge, index) in completedAchievementBadges"
                  :key="index"
                  :badge="badge"
                /> -->
                  <div class="reward-achievement">
                    <div
                      class="reward-icon"
                      style="background-color: #ccd1d5"
                      v-for="(task, index) in achievementTasks"
                      :key="index"
                    >
                      <div class="task-title fz-16">
                        {{ task.title }}
                      </div>
                    </div>
                  </div>
                </div>
                <div v-if="activeTab === 'special'">
                  <!-- <BadgeDisplay
                  v-for="(badge, index) in completedSpecialBadges"
                  :key="index"
                  :badge="badge"
                /> -->
                  <div class="reward-special">
                    <div class="red-line-group">
                      <div class="reward-icon red">
                        <div class="task-title fz-16">
                          淡水<br />
                          信義線<br />
                          <span class="drop-down">
                            <svg
                              xmlns="http://www.w3.org/2000/svg"
                              width="24"
                              height="13"
                              viewBox="0 0 24 13"
                              fill="none"
                            >
                              <g clip-path="url(#clip0_2427_6246)">
                                <path
                                  fill-rule="evenodd"
                                  clip-rule="evenodd"
                                  d="M11.2894 2.55009L5.63235 8.20709L7.04635 9.62109L11.9964 4.67109L16.9464 9.62109L18.3604 8.20709L12.7034 2.55009C12.5158 2.36262 12.2615 2.25731 11.9964 2.25731C11.7312 2.25731 11.4769 2.36262 11.2894 2.55009Z"
                                  fill="white"
                                />
                              </g>
                              <defs>
                                <clipPath id="clip0_2427_6246">
                                  <rect
                                    width="12"
                                    height="24"
                                    fill="white"
                                    transform="matrix(0 -1 -1 0 24 12.707)"
                                  />
                                </clipPath>
                              </defs>
                            </svg>
                          </span>
                        </div>
                      </div>
                      <div class="reward-icon gray" style="background-color: #ccd1d5">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="76"
                          height="76"
                          viewBox="0 0 76 76"
                          fill="none"
                        >
                          <path
                            d="M66.0892 54.625L57.5075 39.805C59.2636 36.5798 60.1785 32.964 60.1675 29.2917C60.1675 23.4127 57.8321 17.7745 53.6751 13.6175C49.518 9.46041 43.8798 7.125 38.0009 7.125C32.1219 7.125 26.4837 9.46041 22.3267 13.6175C18.1696 17.7745 15.8342 23.4127 15.8342 29.2917C15.8233 32.964 16.7382 36.5798 18.4942 39.805L9.91255 54.625C9.63408 55.1073 9.48773 55.6545 9.48828 56.2115C9.48883 56.7684 9.63626 57.3154 9.91568 57.7971C10.1951 58.2789 10.5967 58.6785 11.0798 58.9555C11.5629 59.2325 12.1106 59.3772 12.6675 59.375H21.7559L26.3792 67.165C26.5351 67.4232 26.727 67.6578 26.9492 67.8617C27.5362 68.4275 28.3189 68.7451 29.1342 68.7483H29.5775C30.0556 68.6829 30.5124 68.5091 30.9131 68.2402C31.3137 67.9713 31.6476 67.6143 31.8892 67.1967L38.0009 56.6833L44.1126 67.2917C44.3577 67.7034 44.6932 68.0542 45.0936 68.3175C45.494 68.5808 45.949 68.7497 46.4242 68.8117H46.8675C47.6938 68.8166 48.4893 68.4984 49.0842 67.925C49.2961 67.7317 49.4776 67.5075 49.6226 67.26L54.2459 59.47H63.3342C63.8922 59.4722 64.4409 59.3269 64.9247 59.0489C65.4085 58.7709 65.8102 58.3699 66.0892 57.8867C66.3851 57.3941 66.5414 56.8304 66.5414 56.2558C66.5414 55.6813 66.3851 55.1175 66.0892 54.625ZM29.1025 59.47L26.2842 54.7517C26.0067 54.2835 25.6132 53.8948 25.1418 53.623C24.6703 53.3512 24.1367 53.2055 23.5925 53.2H18.1142L22.6425 45.3467C25.7608 48.3514 29.691 50.3771 33.9475 51.1733L29.1025 59.47ZM38.0009 45.125C34.8693 45.125 31.8081 44.1964 29.2044 42.4566C26.6006 40.7168 24.5712 38.244 23.3728 35.3508C22.1744 32.4577 21.8608 29.2741 22.4718 26.2027C23.0827 23.1314 24.5907 20.3101 26.805 18.0958C29.0194 15.8815 31.8406 14.3735 34.912 13.7626C37.9833 13.1516 41.1669 13.4652 44.06 14.6636C46.9532 15.862 49.426 17.8914 51.1658 20.4951C52.9056 23.0989 53.8342 26.1601 53.8342 29.2917C53.8342 33.4909 52.1661 37.5182 49.1967 40.4875C46.2274 43.4568 42.2001 45.125 38.0009 45.125ZM52.4092 53.2C51.865 53.2055 51.3315 53.3512 50.86 53.623C50.3885 53.8948 49.9951 54.2835 49.7176 54.7517L46.8992 59.47L42.0859 51.0783C46.3276 50.2658 50.2431 48.242 53.3592 45.2517L57.8876 53.105L52.4092 53.2Z"
                            fill="white"
                          />
                        </svg>
                        <div class="task-title">半日遊</div>
                      </div>
                      <div class="reward-icon gray" style="background-color: #ccd1d5">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="44"
                          height="54"
                          viewBox="0 0 54 64"
                          fill="none"
                        >
                          <path
                            d="M53.0836 55.5717L40.4969 51.2623L36.1653 63.8445L26.4977 44.9712L17.3324 63.8445L13.0008 51.2623L0.414062 55.5717L9.57945 36.6984C6.4624 32.7987 4.76806 27.9489 4.77704 22.9524C4.77704 17.1126 7.09192 11.5121 11.2124 7.38275C15.3329 3.25342 20.9216 0.933594 26.7488 0.933594C32.5761 0.933594 38.1647 3.25342 42.2853 7.38275C46.4058 11.5121 48.7207 17.1126 48.7207 22.9524C48.7207 28.1425 46.9315 32.9238 43.9182 36.6984L53.0836 55.5717ZM11.0547 22.9524L19.4981 27.1674L18.9018 36.604L26.7488 31.3825L34.5959 36.5726L34.0623 27.1674L42.443 22.9524L34.0309 18.7059L34.5959 9.33219L26.7488 14.4909L18.9018 9.26928L19.4354 18.7374L11.0547 22.9524Z"
                            fill="white"
                          />
                        </svg>
                        <div class="task-title">一日遊</div>
                      </div>

                      <div class="long-line red position-absolute"></div>
                    </div>
                    <div class="blue-line-group">
                      <div class="reward-icon blue">
                        <div class="task-title fz-16">
                          板南線<br />
                          <span class="drop-down">
                            <svg
                              xmlns="http://www.w3.org/2000/svg"
                              width="24"
                              height="13"
                              viewBox="0 0 24 13"
                              fill="none"
                            >
                              <g clip-path="url(#clip0_2427_6246)">
                                <path
                                  fill-rule="evenodd"
                                  clip-rule="evenodd"
                                  d="M11.2894 2.55009L5.63235 8.20709L7.04635 9.62109L11.9964 4.67109L16.9464 9.62109L18.3604 8.20709L12.7034 2.55009C12.5158 2.36262 12.2615 2.25731 11.9964 2.25731C11.7312 2.25731 11.4769 2.36262 11.2894 2.55009Z"
                                  fill="white"
                                />
                              </g>
                              <defs>
                                <clipPath id="clip0_2427_6246">
                                  <rect
                                    width="12"
                                    height="24"
                                    fill="white"
                                    transform="matrix(0 -1 -1 0 24 12.707)"
                                  />
                                </clipPath>
                              </defs>
                            </svg>
                          </span>
                        </div>
                      </div>
                      <div class="reward-icon gray" style="background-color: #ccd1d5">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="76"
                          height="76"
                          viewBox="0 0 76 76"
                          fill="none"
                        >
                          <path
                            d="M66.0892 54.625L57.5075 39.805C59.2636 36.5798 60.1785 32.964 60.1675 29.2917C60.1675 23.4127 57.8321 17.7745 53.6751 13.6175C49.518 9.46041 43.8798 7.125 38.0009 7.125C32.1219 7.125 26.4837 9.46041 22.3267 13.6175C18.1696 17.7745 15.8342 23.4127 15.8342 29.2917C15.8233 32.964 16.7382 36.5798 18.4942 39.805L9.91255 54.625C9.63408 55.1073 9.48773 55.6545 9.48828 56.2115C9.48883 56.7684 9.63626 57.3154 9.91568 57.7971C10.1951 58.2789 10.5967 58.6785 11.0798 58.9555C11.5629 59.2325 12.1106 59.3772 12.6675 59.375H21.7559L26.3792 67.165C26.5351 67.4232 26.727 67.6578 26.9492 67.8617C27.5362 68.4275 28.3189 68.7451 29.1342 68.7483H29.5775C30.0556 68.6829 30.5124 68.5091 30.9131 68.2402C31.3137 67.9713 31.6476 67.6143 31.8892 67.1967L38.0009 56.6833L44.1126 67.2917C44.3577 67.7034 44.6932 68.0542 45.0936 68.3175C45.494 68.5808 45.949 68.7497 46.4242 68.8117H46.8675C47.6938 68.8166 48.4893 68.4984 49.0842 67.925C49.2961 67.7317 49.4776 67.5075 49.6226 67.26L54.2459 59.47H63.3342C63.8922 59.4722 64.4409 59.3269 64.9247 59.0489C65.4085 58.7709 65.8102 58.3699 66.0892 57.8867C66.3851 57.3941 66.5414 56.8304 66.5414 56.2558C66.5414 55.6813 66.3851 55.1175 66.0892 54.625ZM29.1025 59.47L26.2842 54.7517C26.0067 54.2835 25.6132 53.8948 25.1418 53.623C24.6703 53.3512 24.1367 53.2055 23.5925 53.2H18.1142L22.6425 45.3467C25.7608 48.3514 29.691 50.3771 33.9475 51.1733L29.1025 59.47ZM38.0009 45.125C34.8693 45.125 31.8081 44.1964 29.2044 42.4566C26.6006 40.7168 24.5712 38.244 23.3728 35.3508C22.1744 32.4577 21.8608 29.2741 22.4718 26.2027C23.0827 23.1314 24.5907 20.3101 26.805 18.0958C29.0194 15.8815 31.8406 14.3735 34.912 13.7626C37.9833 13.1516 41.1669 13.4652 44.06 14.6636C46.9532 15.862 49.426 17.8914 51.1658 20.4951C52.9056 23.0989 53.8342 26.1601 53.8342 29.2917C53.8342 33.4909 52.1661 37.5182 49.1967 40.4875C46.2274 43.4568 42.2001 45.125 38.0009 45.125ZM52.4092 53.2C51.865 53.2055 51.3315 53.3512 50.86 53.623C50.3885 53.8948 49.9951 54.2835 49.7176 54.7517L46.8992 59.47L42.0859 51.0783C46.3276 50.2658 50.2431 48.242 53.3592 45.2517L57.8876 53.105L52.4092 53.2Z"
                            fill="white"
                          />
                        </svg>
                        <div class="task-title">半日遊</div>
                      </div>
                      <div class="reward-icon gray" style="background-color: #ccd1d5">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="44"
                          height="54"
                          viewBox="0 0 54 64"
                          fill="none"
                        >
                          <path
                            d="M53.0836 55.5717L40.4969 51.2623L36.1653 63.8445L26.4977 44.9712L17.3324 63.8445L13.0008 51.2623L0.414062 55.5717L9.57945 36.6984C6.4624 32.7987 4.76806 27.9489 4.77704 22.9524C4.77704 17.1126 7.09192 11.5121 11.2124 7.38275C15.3329 3.25342 20.9216 0.933594 26.7488 0.933594C32.5761 0.933594 38.1647 3.25342 42.2853 7.38275C46.4058 11.5121 48.7207 17.1126 48.7207 22.9524C48.7207 28.1425 46.9315 32.9238 43.9182 36.6984L53.0836 55.5717ZM11.0547 22.9524L19.4981 27.1674L18.9018 36.604L26.7488 31.3825L34.5959 36.5726L34.0623 27.1674L42.443 22.9524L34.0309 18.7059L34.5959 9.33219L26.7488 14.4909L18.9018 9.26928L19.4354 18.7374L11.0547 22.9524Z"
                            fill="white"
                          />
                        </svg>
                        <div class="task-title">一日遊</div>
                      </div>
                      <div class="long-line blue"></div>
                    </div>
                    <div class="green-line-group">
                      <div class="reward-icon green">
                        <div class="task-title fz-16">
                          松山<br />新店線<br />
                          <span class="drop-down">
                            <svg
                              xmlns="http://www.w3.org/2000/svg"
                              width="24"
                              height="13"
                              viewBox="0 0 24 13"
                              fill="none"
                            >
                              <g clip-path="url(#clip0_2427_6246)">
                                <path
                                  fill-rule="evenodd"
                                  clip-rule="evenodd"
                                  d="M11.2894 2.55009L5.63235 8.20709L7.04635 9.62109L11.9964 4.67109L16.9464 9.62109L18.3604 8.20709L12.7034 2.55009C12.5158 2.36262 12.2615 2.25731 11.9964 2.25731C11.7312 2.25731 11.4769 2.36262 11.2894 2.55009Z"
                                  fill="white"
                                />
                              </g>
                              <defs>
                                <clipPath id="clip0_2427_6246">
                                  <rect
                                    width="12"
                                    height="24"
                                    fill="white"
                                    transform="matrix(0 -1 -1 0 24 12.707)"
                                  />
                                </clipPath>
                              </defs>
                            </svg>
                          </span>
                        </div>
                      </div>
                      <div class="reward-icon gray" style="background-color: #ccd1d5">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="76"
                          height="76"
                          viewBox="0 0 76 76"
                          fill="none"
                        >
                          <path
                            d="M66.0892 54.625L57.5075 39.805C59.2636 36.5798 60.1785 32.964 60.1675 29.2917C60.1675 23.4127 57.8321 17.7745 53.6751 13.6175C49.518 9.46041 43.8798 7.125 38.0009 7.125C32.1219 7.125 26.4837 9.46041 22.3267 13.6175C18.1696 17.7745 15.8342 23.4127 15.8342 29.2917C15.8233 32.964 16.7382 36.5798 18.4942 39.805L9.91255 54.625C9.63408 55.1073 9.48773 55.6545 9.48828 56.2115C9.48883 56.7684 9.63626 57.3154 9.91568 57.7971C10.1951 58.2789 10.5967 58.6785 11.0798 58.9555C11.5629 59.2325 12.1106 59.3772 12.6675 59.375H21.7559L26.3792 67.165C26.5351 67.4232 26.727 67.6578 26.9492 67.8617C27.5362 68.4275 28.3189 68.7451 29.1342 68.7483H29.5775C30.0556 68.6829 30.5124 68.5091 30.9131 68.2402C31.3137 67.9713 31.6476 67.6143 31.8892 67.1967L38.0009 56.6833L44.1126 67.2917C44.3577 67.7034 44.6932 68.0542 45.0936 68.3175C45.494 68.5808 45.949 68.7497 46.4242 68.8117H46.8675C47.6938 68.8166 48.4893 68.4984 49.0842 67.925C49.2961 67.7317 49.4776 67.5075 49.6226 67.26L54.2459 59.47H63.3342C63.8922 59.4722 64.4409 59.3269 64.9247 59.0489C65.4085 58.7709 65.8102 58.3699 66.0892 57.8867C66.3851 57.3941 66.5414 56.8304 66.5414 56.2558C66.5414 55.6813 66.3851 55.1175 66.0892 54.625ZM29.1025 59.47L26.2842 54.7517C26.0067 54.2835 25.6132 53.8948 25.1418 53.623C24.6703 53.3512 24.1367 53.2055 23.5925 53.2H18.1142L22.6425 45.3467C25.7608 48.3514 29.691 50.3771 33.9475 51.1733L29.1025 59.47ZM38.0009 45.125C34.8693 45.125 31.8081 44.1964 29.2044 42.4566C26.6006 40.7168 24.5712 38.244 23.3728 35.3508C22.1744 32.4577 21.8608 29.2741 22.4718 26.2027C23.0827 23.1314 24.5907 20.3101 26.805 18.0958C29.0194 15.8815 31.8406 14.3735 34.912 13.7626C37.9833 13.1516 41.1669 13.4652 44.06 14.6636C46.9532 15.862 49.426 17.8914 51.1658 20.4951C52.9056 23.0989 53.8342 26.1601 53.8342 29.2917C53.8342 33.4909 52.1661 37.5182 49.1967 40.4875C46.2274 43.4568 42.2001 45.125 38.0009 45.125ZM52.4092 53.2C51.865 53.2055 51.3315 53.3512 50.86 53.623C50.3885 53.8948 49.9951 54.2835 49.7176 54.7517L46.8992 59.47L42.0859 51.0783C46.3276 50.2658 50.2431 48.242 53.3592 45.2517L57.8876 53.105L52.4092 53.2Z"
                            fill="white"
                          />
                        </svg>
                        <div class="task-title">半日遊</div>
                      </div>
                      <div class="reward-icon gray" style="background-color: #ccd1d5">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="44"
                          height="54"
                          viewBox="0 0 54 64"
                          fill="none"
                        >
                          <path
                            d="M53.0836 55.5717L40.4969 51.2623L36.1653 63.8445L26.4977 44.9712L17.3324 63.8445L13.0008 51.2623L0.414062 55.5717L9.57945 36.6984C6.4624 32.7987 4.76806 27.9489 4.77704 22.9524C4.77704 17.1126 7.09192 11.5121 11.2124 7.38275C15.3329 3.25342 20.9216 0.933594 26.7488 0.933594C32.5761 0.933594 38.1647 3.25342 42.2853 7.38275C46.4058 11.5121 48.7207 17.1126 48.7207 22.9524C48.7207 28.1425 46.9315 32.9238 43.9182 36.6984L53.0836 55.5717ZM11.0547 22.9524L19.4981 27.1674L18.9018 36.604L26.7488 31.3825L34.5959 36.5726L34.0623 27.1674L42.443 22.9524L34.0309 18.7059L34.5959 9.33219L26.7488 14.4909L18.9018 9.26928L19.4354 18.7374L11.0547 22.9524Z"
                            fill="white"
                          />
                        </svg>
                        <div class="task-title">一日遊</div>
                      </div>
                      <div class="long-line green"></div>
                    </div>
                    <div class="yellow-line-group">
                      <div class="reward-icon yellow">
                        <div class="task-title fz-16">
                          中和<br />新蘆線<br />
                          <span class="drop-down">
                            <svg
                              xmlns="http://www.w3.org/2000/svg"
                              width="24"
                              height="13"
                              viewBox="0 0 24 13"
                              fill="none"
                            >
                              <g clip-path="url(#clip0_2427_6246)">
                                <path
                                  fill-rule="evenodd"
                                  clip-rule="evenodd"
                                  d="M11.2894 2.55009L5.63235 8.20709L7.04635 9.62109L11.9964 4.67109L16.9464 9.62109L18.3604 8.20709L12.7034 2.55009C12.5158 2.36262 12.2615 2.25731 11.9964 2.25731C11.7312 2.25731 11.4769 2.36262 11.2894 2.55009Z"
                                  fill="white"
                                />
                              </g>
                              <defs>
                                <clipPath id="clip0_2427_6246">
                                  <rect
                                    width="12"
                                    height="24"
                                    fill="white"
                                    transform="matrix(0 -1 -1 0 24 12.707)"
                                  />
                                </clipPath>
                              </defs>
                            </svg>
                          </span>
                        </div>
                      </div>
                      <div class="reward-icon gray" style="background-color: #ccd1d5">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="76"
                          height="76"
                          viewBox="0 0 76 76"
                          fill="none"
                        >
                          <path
                            d="M66.0892 54.625L57.5075 39.805C59.2636 36.5798 60.1785 32.964 60.1675 29.2917C60.1675 23.4127 57.8321 17.7745 53.6751 13.6175C49.518 9.46041 43.8798 7.125 38.0009 7.125C32.1219 7.125 26.4837 9.46041 22.3267 13.6175C18.1696 17.7745 15.8342 23.4127 15.8342 29.2917C15.8233 32.964 16.7382 36.5798 18.4942 39.805L9.91255 54.625C9.63408 55.1073 9.48773 55.6545 9.48828 56.2115C9.48883 56.7684 9.63626 57.3154 9.91568 57.7971C10.1951 58.2789 10.5967 58.6785 11.0798 58.9555C11.5629 59.2325 12.1106 59.3772 12.6675 59.375H21.7559L26.3792 67.165C26.5351 67.4232 26.727 67.6578 26.9492 67.8617C27.5362 68.4275 28.3189 68.7451 29.1342 68.7483H29.5775C30.0556 68.6829 30.5124 68.5091 30.9131 68.2402C31.3137 67.9713 31.6476 67.6143 31.8892 67.1967L38.0009 56.6833L44.1126 67.2917C44.3577 67.7034 44.6932 68.0542 45.0936 68.3175C45.494 68.5808 45.949 68.7497 46.4242 68.8117H46.8675C47.6938 68.8166 48.4893 68.4984 49.0842 67.925C49.2961 67.7317 49.4776 67.5075 49.6226 67.26L54.2459 59.47H63.3342C63.8922 59.4722 64.4409 59.3269 64.9247 59.0489C65.4085 58.7709 65.8102 58.3699 66.0892 57.8867C66.3851 57.3941 66.5414 56.8304 66.5414 56.2558C66.5414 55.6813 66.3851 55.1175 66.0892 54.625ZM29.1025 59.47L26.2842 54.7517C26.0067 54.2835 25.6132 53.8948 25.1418 53.623C24.6703 53.3512 24.1367 53.2055 23.5925 53.2H18.1142L22.6425 45.3467C25.7608 48.3514 29.691 50.3771 33.9475 51.1733L29.1025 59.47ZM38.0009 45.125C34.8693 45.125 31.8081 44.1964 29.2044 42.4566C26.6006 40.7168 24.5712 38.244 23.3728 35.3508C22.1744 32.4577 21.8608 29.2741 22.4718 26.2027C23.0827 23.1314 24.5907 20.3101 26.805 18.0958C29.0194 15.8815 31.8406 14.3735 34.912 13.7626C37.9833 13.1516 41.1669 13.4652 44.06 14.6636C46.9532 15.862 49.426 17.8914 51.1658 20.4951C52.9056 23.0989 53.8342 26.1601 53.8342 29.2917C53.8342 33.4909 52.1661 37.5182 49.1967 40.4875C46.2274 43.4568 42.2001 45.125 38.0009 45.125ZM52.4092 53.2C51.865 53.2055 51.3315 53.3512 50.86 53.623C50.3885 53.8948 49.9951 54.2835 49.7176 54.7517L46.8992 59.47L42.0859 51.0783C46.3276 50.2658 50.2431 48.242 53.3592 45.2517L57.8876 53.105L52.4092 53.2Z"
                            fill="white"
                          />
                        </svg>
                        <div class="task-title">半日遊</div>
                      </div>
                      <div class="reward-icon gray" style="background-color: #ccd1d5">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="44"
                          height="54"
                          viewBox="0 0 54 64"
                          fill="none"
                        >
                          <path
                            d="M53.0836 55.5717L40.4969 51.2623L36.1653 63.8445L26.4977 44.9712L17.3324 63.8445L13.0008 51.2623L0.414062 55.5717L9.57945 36.6984C6.4624 32.7987 4.76806 27.9489 4.77704 22.9524C4.77704 17.1126 7.09192 11.5121 11.2124 7.38275C15.3329 3.25342 20.9216 0.933594 26.7488 0.933594C32.5761 0.933594 38.1647 3.25342 42.2853 7.38275C46.4058 11.5121 48.7207 17.1126 48.7207 22.9524C48.7207 28.1425 46.9315 32.9238 43.9182 36.6984L53.0836 55.5717ZM11.0547 22.9524L19.4981 27.1674L18.9018 36.604L26.7488 31.3825L34.5959 36.5726L34.0623 27.1674L42.443 22.9524L34.0309 18.7059L34.5959 9.33219L26.7488 14.4909L18.9018 9.26928L19.4354 18.7374L11.0547 22.9524Z"
                            fill="white"
                          />
                        </svg>
                        <div class="task-title">一日遊</div>
                      </div>
                      <div class="long-line yellow"></div>
                    </div>
                    <div class="brown-line-group">
                      <div class="reward-icon brown">
                        <div class="task-title fz-16">
                          文湖線<br />
                          <span class="drop-down">
                            <svg
                              xmlns="http://www.w3.org/2000/svg"
                              width="24"
                              height="13"
                              viewBox="0 0 24 13"
                              fill="none"
                            >
                              <g clip-path="url(#clip0_2427_6246)">
                                <path
                                  fill-rule="evenodd"
                                  clip-rule="evenodd"
                                  d="M11.2894 2.55009L5.63235 8.20709L7.04635 9.62109L11.9964 4.67109L16.9464 9.62109L18.3604 8.20709L12.7034 2.55009C12.5158 2.36262 12.2615 2.25731 11.9964 2.25731C11.7312 2.25731 11.4769 2.36262 11.2894 2.55009Z"
                                  fill="white"
                                />
                              </g>
                              <defs>
                                <clipPath id="clip0_2427_6246">
                                  <rect
                                    width="12"
                                    height="24"
                                    fill="white"
                                    transform="matrix(0 -1 -1 0 24 12.707)"
                                  />
                                </clipPath>
                              </defs>
                            </svg>
                          </span>
                        </div>
                      </div>
                      <div class="reward-icon gray" style="background-color: #ccd1d5">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="76"
                          height="76"
                          viewBox="0 0 76 76"
                          fill="none"
                        >
                          <path
                            d="M66.0892 54.625L57.5075 39.805C59.2636 36.5798 60.1785 32.964 60.1675 29.2917C60.1675 23.4127 57.8321 17.7745 53.6751 13.6175C49.518 9.46041 43.8798 7.125 38.0009 7.125C32.1219 7.125 26.4837 9.46041 22.3267 13.6175C18.1696 17.7745 15.8342 23.4127 15.8342 29.2917C15.8233 32.964 16.7382 36.5798 18.4942 39.805L9.91255 54.625C9.63408 55.1073 9.48773 55.6545 9.48828 56.2115C9.48883 56.7684 9.63626 57.3154 9.91568 57.7971C10.1951 58.2789 10.5967 58.6785 11.0798 58.9555C11.5629 59.2325 12.1106 59.3772 12.6675 59.375H21.7559L26.3792 67.165C26.5351 67.4232 26.727 67.6578 26.9492 67.8617C27.5362 68.4275 28.3189 68.7451 29.1342 68.7483H29.5775C30.0556 68.6829 30.5124 68.5091 30.9131 68.2402C31.3137 67.9713 31.6476 67.6143 31.8892 67.1967L38.0009 56.6833L44.1126 67.2917C44.3577 67.7034 44.6932 68.0542 45.0936 68.3175C45.494 68.5808 45.949 68.7497 46.4242 68.8117H46.8675C47.6938 68.8166 48.4893 68.4984 49.0842 67.925C49.2961 67.7317 49.4776 67.5075 49.6226 67.26L54.2459 59.47H63.3342C63.8922 59.4722 64.4409 59.3269 64.9247 59.0489C65.4085 58.7709 65.8102 58.3699 66.0892 57.8867C66.3851 57.3941 66.5414 56.8304 66.5414 56.2558C66.5414 55.6813 66.3851 55.1175 66.0892 54.625ZM29.1025 59.47L26.2842 54.7517C26.0067 54.2835 25.6132 53.8948 25.1418 53.623C24.6703 53.3512 24.1367 53.2055 23.5925 53.2H18.1142L22.6425 45.3467C25.7608 48.3514 29.691 50.3771 33.9475 51.1733L29.1025 59.47ZM38.0009 45.125C34.8693 45.125 31.8081 44.1964 29.2044 42.4566C26.6006 40.7168 24.5712 38.244 23.3728 35.3508C22.1744 32.4577 21.8608 29.2741 22.4718 26.2027C23.0827 23.1314 24.5907 20.3101 26.805 18.0958C29.0194 15.8815 31.8406 14.3735 34.912 13.7626C37.9833 13.1516 41.1669 13.4652 44.06 14.6636C46.9532 15.862 49.426 17.8914 51.1658 20.4951C52.9056 23.0989 53.8342 26.1601 53.8342 29.2917C53.8342 33.4909 52.1661 37.5182 49.1967 40.4875C46.2274 43.4568 42.2001 45.125 38.0009 45.125ZM52.4092 53.2C51.865 53.2055 51.3315 53.3512 50.86 53.623C50.3885 53.8948 49.9951 54.2835 49.7176 54.7517L46.8992 59.47L42.0859 51.0783C46.3276 50.2658 50.2431 48.242 53.3592 45.2517L57.8876 53.105L52.4092 53.2Z"
                            fill="white"
                          />
                        </svg>
                        <div class="task-title">半日遊</div>
                      </div>
                      <div class="reward-icon gray" style="background-color: #ccd1d5">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="44"
                          height="54"
                          viewBox="0 0 54 64"
                          fill="none"
                        >
                          <path
                            d="M53.0836 55.5717L40.4969 51.2623L36.1653 63.8445L26.4977 44.9712L17.3324 63.8445L13.0008 51.2623L0.414062 55.5717L9.57945 36.6984C6.4624 32.7987 4.76806 27.9489 4.77704 22.9524C4.77704 17.1126 7.09192 11.5121 11.2124 7.38275C15.3329 3.25342 20.9216 0.933594 26.7488 0.933594C32.5761 0.933594 38.1647 3.25342 42.2853 7.38275C46.4058 11.5121 48.7207 17.1126 48.7207 22.9524C48.7207 28.1425 46.9315 32.9238 43.9182 36.6984L53.0836 55.5717ZM11.0547 22.9524L19.4981 27.1674L18.9018 36.604L26.7488 31.3825L34.5959 36.5726L34.0623 27.1674L42.443 22.9524L34.0309 18.7059L34.5959 9.33219L26.7488 14.4909L18.9018 9.26928L19.4354 18.7374L11.0547 22.9524Z"
                            fill="white"
                          />
                        </svg>
                        <div class="task-title">一日遊</div>
                      </div>
                      <div class="long-line brown"></div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- 集章說明 -->
              <div class="badge-content">
                <div class="badge-info">
                  <div class="badge-title">集章說明</div>
                  <p class="badge-text bold">{{ badge.info }}</p>
                </div>
                <div class="badge-title">獲得獎勵</div>

                <div class="reward-info">
                  <div
                    :class="[
                      'reward-icon red',
                      {
                        yellow: activeTab === 'achievement' || activeTab === 'special',
                      },
                    ]"
                    v-html="badge.icon"
                  ></div>

                  <p class="badge-text bold inline">
                    {{ badge.text }}
                  </p>
                </div>
                <div class="reward-info">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="89"
                    height="84"
                    viewBox="0 0 89 84"
                    fill="none"
                  >
                    <ellipse cx="44.5" cy="41" rx="36.5" ry="33" fill="white" />
                    <path
                      d="M66.75 5.62751C73.5149 9.31377 79.1325 14.6158 83.0382 21.0006C86.9439 27.3854 89 34.628 89 42.0006C88.9999 49.3731 86.9437 56.6157 83.0379 63.0005C79.1321 69.3853 73.5145 74.6872 66.7495 78.3734C59.9846 82.0596 52.3107 84.0001 44.4993 84C36.6879 83.9999 29.0141 82.0591 22.2493 78.3727C15.4844 74.6863 9.86694 69.3842 5.96138 62.9993C2.05581 56.6145 -0.000198424 49.3718 1.4363e-08 41.9992L0.0222505 40.6385C0.271464 33.3851 2.50779 26.3164 6.5132 20.1216C10.5186 13.9268 16.1564 8.81718 22.877 5.29102C29.5975 1.76485 37.1715 -0.0575849 44.8605 0.00138702C52.5494 0.0603589 60.091 1.99872 66.75 5.62751ZM44.5 16.7994C43.3198 16.7994 42.1879 17.2419 41.3534 18.0296C40.5188 18.8172 40.05 19.8855 40.05 20.9994C36.5094 20.9994 33.1137 22.3269 30.6101 24.6898C28.1065 27.0528 26.7 30.2576 26.7 33.5993C26.7 36.941 28.1065 40.1458 30.6101 42.5088C33.1137 44.8717 36.5094 46.1992 40.05 46.1992V54.5991C39.312 54.6377 38.5752 54.5056 37.9036 54.2143C37.232 53.923 36.6459 53.4813 36.1963 52.9276L35.8937 52.5034C35.2849 51.5766 34.318 50.9097 33.1976 50.6437C32.0772 50.3776 30.8911 50.5332 29.89 51.0776C28.889 51.622 28.1515 52.5125 27.8336 53.5608C27.5156 54.6091 27.6421 55.7331 28.1863 56.6949C29.3221 58.5541 30.9422 60.1087 32.8931 61.2112C34.8439 62.3137 37.0608 62.9277 39.3335 62.9949H40.05C40.0491 64.0243 40.4487 65.0182 41.1731 65.7879C41.8975 66.5575 42.8961 67.0492 43.9794 67.1697L44.5 67.1991C45.6802 67.1991 46.8121 66.7566 47.6466 65.9689C48.4812 65.1813 48.95 64.113 48.95 62.9991L49.7332 62.9781C53.2024 62.7888 56.4568 61.3303 58.8047 58.9124C61.1526 56.4945 62.4091 53.3078 62.3071 50.0294C62.2051 46.7511 60.7528 43.6394 58.2586 41.3557C55.7644 39.0719 52.425 37.7961 48.95 37.7993V29.3993C50.5431 29.3489 51.9359 29.9873 52.8037 31.0709L53.1063 31.4951C53.7151 32.4218 54.682 33.0887 55.8024 33.3548C56.9228 33.6209 58.1089 33.4653 59.11 32.9209C60.111 32.3765 60.8485 31.486 61.1664 30.4377C61.4844 29.3894 61.3579 28.2654 60.8137 27.3036C59.6784 25.4436 58.0585 23.8882 56.1077 22.7849C54.1568 21.6816 51.9396 21.067 49.6665 20.9994H48.95C48.95 19.8855 48.4812 18.8172 47.6466 18.0296C46.8121 17.2419 45.6802 16.7994 44.5 16.7994ZM48.95 46.1992C50.1302 46.1992 51.2621 46.6417 52.0966 47.4294C52.9312 48.217 53.4 49.2853 53.4 50.3992C53.4 51.5131 52.9312 52.5814 52.0966 53.369C51.2621 54.1567 50.1302 54.5991 48.95 54.5991V46.1992ZM40.05 29.3993V37.7993C38.8698 37.7993 37.7379 37.3568 36.9034 36.5691C36.0688 35.7815 35.6 34.7132 35.6 33.5993C35.6 32.4854 36.0688 31.4171 36.9034 30.6295C37.7379 29.8418 38.8698 29.3993 40.05 29.3993Z"
                      fill="#FFC600"
                    />
                  </svg>
                  <p class="badge-text bold inline">${{ badge.point }}點積分</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div v-else-if="type === 'gameRules'">
        <!-- 幻燈片標題 -->
        <div class="modal-header">
          <div class="modal-title title1 bold">
            <div v-if="activeSlide === 0">玩法說明</div>
            <!-- <div v-if="activeSlide === 1">一般任務</div> -->
            <!-- <div v-if="activeSlide === 2">特殊任務</div> -->
          </div>
          <button @click="$emit('close')" class="close-btn light">
            <span>&#10005;</span>
          </button>
        </div>
        <div class="modal-content">
          <div class="slide-content">
            <!-- 第一頁：玩法說明 -->
            <div v-if="activeSlide === 0" class="rules-page1">
              <p style="margin: 20px 10px; text-align: center">
                此互動遊戲可分為"一般任務"與"特殊任務"
                兩種玩法，皆可透過遊玩達成任務獲得對應的獎勳積分
              </p>
              <div>
                <div class="game-rules">
                  <div class="game-rules1" @click="activeSlide = 1">
                    <h2>一般任務</h2>
                    <!-- <div class="rules-title2"></div> -->
                    <div class="rules-info">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="100"
                        height="100"
                        viewBox="0 0 84 109"
                        fill="none"
                      >
                        <g filter="url(#filter0_d_2006_16851)">
                          <path
                            d="M39 49.025C35.5427 49.025 32.227 47.7212 29.7824 45.4004C27.3377 43.0797 25.9643 39.9321 25.9643 36.65C25.9643 33.3679 27.3377 30.2203 29.7824 27.8996C32.227 25.5788 35.5427 24.275 39 24.275C42.4573 24.275 45.773 25.5788 48.2176 27.8996C50.6623 30.2203 52.0357 33.3679 52.0357 36.65C52.0357 38.2751 51.6985 39.8843 51.0434 41.3857C50.3883 42.8871 49.4281 44.2513 48.2176 45.4004C47.0072 46.5496 45.5701 47.4611 43.9886 48.083C42.407 48.7049 40.7119 49.025 39 49.025ZM39 2C29.3196 2 20.0357 5.65061 13.1906 12.1487C6.34552 18.6469 2.5 27.4602 2.5 36.65C2.5 62.6375 39 101 39 101C39 101 75.5 62.6375 75.5 36.65C75.5 27.4602 71.6545 18.6469 64.8094 12.1487C57.9643 5.65061 48.6804 2 39 2Z"
                            fill="#FF0000"
                          />
                        </g>
                        <defs>
                          <filter
                            id="filter0_d_2006_16851"
                            x="0.5"
                            y="0"
                            width="83"
                            height="109"
                            filterUnits="userSpaceOnUse"
                            color-interpolation-filters="sRGB"
                          >
                            <feFlood flood-opacity="0" result="BackgroundImageFix" />
                            <feColorMatrix
                              in="SourceAlpha"
                              type="matrix"
                              values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                              result="hardAlpha"
                            />
                            <feOffset dx="3" dy="3" />
                            <feGaussianBlur stdDeviation="2.5" />
                            <feComposite in2="hardAlpha" operator="out" />
                            <feColorMatrix
                              type="matrix"
                              values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"
                            />
                            <feBlend
                              mode="normal"
                              in2="BackgroundImageFix"
                              result="effect1_dropShadow_2006_16851"
                            />
                            <feBlend
                              mode="normal"
                              in="SourceGraphic"
                              in2="effect1_dropShadow_2006_16851"
                              result="shape"
                            />
                          </filter>
                        </defs>
                      </svg>
                      <div class="rules-item">
                        <p>定位打卡捷運站點</p>
                        <p>500 公尺範圍內</p>
                      </div>
                    </div>
                  </div>
                  <div class="game-rules2" @click="activeSlide = 2">
                    <h2>特殊任務</h2>
                    <div class="rules-info">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="100"
                        height="100"
                        viewBox="0 0 101 100"
                        fill="none"
                      >
                        <g filter="url(#filter0_d_2055_3861)">
                          <path
                            d="M47.5 2.5L58.0522 36.3582L92.1997 36.3582L64.5737 57.2837L75.1259 91.1418L47.5 70.2163L19.8741 91.1418L30.4263 57.2837L2.80034 36.3582L36.9478 36.3582L47.5 2.5Z"
                            fill="#FFF200"
                          />
                        </g>
                        <defs>
                          <filter
                            id="filter0_d_2055_3861"
                            x="0.800781"
                            y="0.5"
                            width="99.3984"
                            height="98.6416"
                            filterUnits="userSpaceOnUse"
                            color-interpolation-filters="sRGB"
                          >
                            <feFlood flood-opacity="0" result="BackgroundImageFix" />
                            <feColorMatrix
                              in="SourceAlpha"
                              type="matrix"
                              values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                              result="hardAlpha"
                            />
                            <feOffset dx="3" dy="3" />
                            <feGaussianBlur stdDeviation="2.5" />
                            <feComposite in2="hardAlpha" operator="out" />
                            <feColorMatrix
                              type="matrix"
                              values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"
                            />
                            <feBlend
                              mode="normal"
                              in2="BackgroundImageFix"
                              result="effect1_dropShadow_2055_3861"
                            />
                            <feBlend
                              mode="normal"
                              in="SourceGraphic"
                              in2="effect1_dropShadow_2055_3861"
                              result="shape"
                            />
                          </filter>
                        </defs>
                      </svg>
                      <div class="rules-item">
                        <p>景點拍照上傳打卡</p>
                        <p>小知識問答</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- 第二頁：一般任務 -->
            <div v-if="activeSlide === 1" class="rules-page2">
              <p>
                一般任務主要遊玩方法為定位捷運站點打卡，透過玩家定位與附近
                <span style="color: red; font-weight: bold">500 </span>
                公尺範圍內的捷運站點來判別玩家是否位於該捷運站點，若要遊玩"一般任務"請務必開啟裝置或瀏覽器定位功能
                !
              </p>
              <br />
              <p>
                若系統判別用戶位於該捷運站點位置時，畫面中該站點將會呈現 "玩家"
                圖標，代表玩家目前位於此捷運站點位置中，此時點擊該圖標將會跳出 "定位成功"
                畫面視窗，點擊確認領取積分。
              </p>
              <br />
              <p>
                確認打完成後，該站點擊顯示 "紅色旗標"，代表該站已完成打卡!
                繼續探險下一站吧!
              </p>
              <br />
              <div class="game-icon">
                <p>打卡成功</p>
                <img src="/img/Group 37206.png" alt="打卡成功" />

                <p>獲取積分</p>
                <div class="game-icon menu">
                  <svg
                    class="vector"
                    width="32"
                    height="32"
                    viewBox="0 0 32 32"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                    style="width: 100%"
                  >
                    <path
                      data-v-1c8ab710=""
                      d="M24 2.64381C26.4323 4.0481 28.4521 6.06791 29.8564 8.50022C31.2607 10.9325 32 13.6916 32 16.5002C32 19.3088 31.2607 22.0679 29.8563 24.5002C28.452 26.9325 26.4322 28.9523 23.9998 30.3565C21.5675 31.7608 18.8084 32.5 15.9997 32.5C13.1911 32.5 10.432 31.7606 7.99974 30.3563C5.56744 28.9519 3.54766 26.9321 2.14342 24.4997C0.739168 22.0674 -7.13435e-05 19.3083 5.16424e-09 16.4997L0.00800019 15.9813C0.0976051 13.2181 0.901676 10.5253 2.34182 8.16536C3.78197 5.80543 5.80905 3.85893 8.22543 2.51563C10.6418 1.17232 13.365 0.478063 16.1296 0.500528C18.8942 0.522994 21.6058 1.26142 24 2.64381ZM16 6.89978C15.5757 6.89978 15.1687 7.06835 14.8686 7.36841C14.5686 7.66846 14.4 8.07543 14.4 8.49977C13.127 8.49977 11.9061 9.00548 11.0059 9.90565C10.1057 10.8058 9.6 12.0267 9.6 13.2997C9.6 14.5728 10.1057 15.7937 11.0059 16.6938C11.9061 17.594 13.127 18.0997 14.4 18.0997V21.2997C14.1346 21.3144 13.8697 21.264 13.6283 21.1531C13.3868 21.0421 13.1761 20.8738 13.0144 20.6629L12.9056 20.5013C12.6867 20.1482 12.3391 19.8942 11.9362 19.7928C11.5334 19.6915 11.1069 19.7507 10.747 19.9581C10.3871 20.1655 10.1219 20.5048 10.0076 20.9041C9.89326 21.3035 9.93874 21.7316 10.1344 22.0981C10.5428 22.8063 11.1253 23.3985 11.8267 23.8185C12.5282 24.2386 13.3252 24.4725 14.1424 24.4981H14.4C14.3997 24.8902 14.5434 25.2688 14.8038 25.562C15.0643 25.8552 15.4233 26.0426 15.8128 26.0884L16 26.0996C16.4243 26.0996 16.8313 25.9311 17.1314 25.631C17.4314 25.331 17.6 24.924 17.6 24.4997L17.8816 24.4917C19.129 24.4196 20.2991 23.8639 21.1433 22.9428C21.9875 22.0217 22.4392 20.8077 22.4026 19.5588C22.3659 18.3099 21.8437 17.1245 20.9469 16.2545C20.0501 15.3846 18.8494 14.8985 17.6 14.8997V11.6997C18.1728 11.6805 18.6736 11.9237 18.9856 12.3365L19.0944 12.4981C19.3133 12.8512 19.6609 13.1052 20.0638 13.2066C20.4666 13.308 20.8931 13.2487 21.253 13.0413C21.6129 12.8339 21.8781 12.4947 21.9924 12.0953C22.1067 11.6959 22.0613 11.2678 21.8656 10.9014C21.4574 10.1928 20.875 9.60027 20.1735 9.17997C19.4721 8.75967 18.6749 8.52553 17.8576 8.49977H17.6C17.6 8.07543 17.4314 7.66846 17.1314 7.36841C16.8313 7.06835 16.4243 6.89978 16 6.89978ZM17.6 18.0997C18.0243 18.0997 18.4313 18.2683 18.7314 18.5683C19.0314 18.8684 19.2 19.2753 19.2 19.6997C19.2 20.124 19.0314 20.531 18.7314 20.831C18.4313 21.1311 18.0243 21.2997 17.6 21.2997V18.0997ZM14.4 11.6997V14.8997C13.9757 14.8997 13.5687 14.7312 13.2686 14.4311C12.9686 14.131 12.8 13.7241 12.8 13.2997C12.8 12.8754 12.9686 12.4684 13.2686 12.1684C13.5687 11.8683 13.9757 11.6997 14.4 11.6997Z"
                      fill="#FCD34D"
                    ></path>
                  </svg>
                </div>
                <p>完成打卡</p>
                <svg
                  class="r-24"
                  width="43"
                  height="54"
                  viewBox="0 0 43 54"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path d="M0 0.723145V53.6222" stroke="black" stroke-width="5" />
                  <path d="M43 16.8611L1.75 33.1961V0.5271L43 16.8611Z" fill="#FF0000" />
                </svg>
                <!-- <img src="/img/humbleicons_cart.png" alt="cart" /> -->
              </div>
            </div>

            <!-- 第三頁：特殊任務 -->
            <div v-if="activeSlide === 2" class="rules-page2">
              <div class="rules-list">
                <!-- <ol> -->
                <p>
                  總共有五條捷運線，玩家選擇一條捷運線，進行挑戰：每條捷運線下有<span
                    style="color: red; font-weight: bold; font-size: 20px"
                    >3個景點</span
                  >及<span style="color: red; font-weight: bold; font-size: 20px"
                    >1個問答</span
                  >，於景點<span style="font-weight: bold; font-size: 20px"
                    >拍照、上傳</span
                  >照片並回答問題。
                </p>
                <!-- <ol class="rules-list">
                    <!-- <li>一日遊:4個景點與1個問答。</li> -->

                <!-- </li> -->
                <!-- </ol> -->
                <br />
                <p>
                  每一個景點都有一個指定標的物，玩家需拍攝目標，
                  照片需經官方審核，審核時間約<span
                    style="font-weight: bold; color: red; font-size: 20px"
                  >
                    1 個工作天</span
                  >。每一線景點及問答挑戰完成後，即完成該條捷運線的行程。
                  <!-- 若照片不清晰或照片中無指定標的物，將被視為未完成挑戰，需重新拍攝上傳。 -->

                  <!-- <p>上傳失敗例:</p>
                  <div class="game-icon special">
                    <div class="icon">
                      <p>照片不清晰</p>
                      <img src="https://picsum.photos/id/100/100/?blur" />
                    </div>
                    <div class="icon">
                      <p>無指定標的物 <br />ex:台北101</p>
                      <img src="https://picsum.photos/id/236/100/100" />
                    </div>
                  </div> -->

                  <!-- 可至「徽章領取」及「集章冊」領取積分與徽章。 -->
                </p>
                <br />

                <div class="game-icon">
                  <!-- <div class="icon"> -->
                  <p>完成上傳・問答</p>
                  <div class="game-icon menu">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="35"
                      height="35"
                      viewBox="0 0 171 171"
                      fill="none"
                    >
                      <path
                        d="M85.5 14.25C46.3125 14.25 14.25 46.3125 14.25 85.5C14.25 124.688 46.3125 156.75 85.5 156.75C124.688 156.75 156.75 124.688 156.75 85.5C156.75 46.3125 124.688 14.25 85.5 14.25ZM85.5 142.5C54.0788 142.5 28.5 116.921 28.5 85.5C28.5 54.0788 54.0788 28.5 85.5 28.5C116.921 28.5 142.5 54.0788 142.5 85.5C142.5 116.921 116.921 142.5 85.5 142.5ZM118.204 54.0075L71.25 100.961L52.7963 82.5788L42.75 92.625L71.25 121.125L128.25 64.125L118.204 54.0075Z"
                        fill="#00C9A7"
                      />
                    </svg>
                  </div>
                  <!-- </div> -->
                  <!-- <span class="arrow">&#10148;</span> -->
                  <!-- <div class="icon">
                      <p>徽章領取</p>
                      <div class="game-icon menu">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="45"
                          height="45"
                          viewBox="0 0 45 45"
                        >
                          <path
                            fill="#00b8f0"
                            d="M43 10.41L26 9.6v1.57h-4V9.6l-17 .81a2 2 0 0 0-1.9 2v27a2 2 0 0 0 2.13 2l13.44-.81a1 1 0 0 1 .95.54c.26.66 1 .91 1.89.91h5c.88 0 1.63-.25 1.89-.91a1 1 0 0 1 .95-.54l13.44.81a2 2 0 0 0 2.13-2v-27a2 2 0 0 0-1.92-2"
                          ></path>
                          <path
                            fill="#4acfff"
                            d="M43 10.41L26 9.6v1.57h-4V9.6l-17 .81a2 2 0 0 0-1.9 2v3.5a2 2 0 0 1 1.9-2L24 13l19 .91a2 2 0 0 1 1.9 2V12.4a2 2 0 0 0-1.9-1.99"
                          ></path>
                          <path
                            fill="none"
                            stroke="#45413c"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M43 10.41L26 9.6v1.57h-4V9.6l-17 .81a2 2 0 0 0-1.9 2v27a2 2 0 0 0 2.13 2l13.44-.81a1 1 0 0 1 .95.54c.26.66 1 .91 1.89.91h5c.88 0 1.63-.25 1.89-.91a1 1 0 0 1 .95-.54l13.44.81a2 2 0 0 0 2.13-2v-27a2 2 0 0 0-1.92-2"
                            stroke-width="1"
                          ></path>
                          <path
                            fill="#627b8c"
                            stroke="#45413c"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M21 36h6v2a1.54 1.54 0 0 1-1.54 1.54h-2.92A1.54 1.54 0 0 1 21 38z"
                            stroke-width="1"
                          ></path>
                          <path
                            fill="#45413c"
                            d="M7 43.5a17 1.5 0 1 0 34 0a17 1.5 0 1 0-34 0"
                            opacity="0.15"
                          ></path>
                          <path
                            fill="#fffef2"
                            d="m8.59 9.5l-2.16 2.74a2.05 2.05 0 0 0-.34 1.13V39l2.5-3.67Zm30.82 0l2.16 2.74a2.05 2.05 0 0 1 .34 1.13V39l-2.5-3.67Z"
                          ></path>
                          <path
                            fill="#fff"
                            d="M6.43 12.24a2.05 2.05 0 0 0-.34 1.13v3.5a2.05 2.05 0 0 1 .34-1.13L8.59 13V9.5Zm35.14 0L39.41 9.5V13l2.16 2.74a2.05 2.05 0 0 1 .34 1.13v-3.5a2.05 2.05 0 0 0-.34-1.13"
                          ></path>
                          <path
                            fill="none"
                            stroke="#45413c"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="m8.59 9.5l-2.16 2.74a2.05 2.05 0 0 0-.34 1.13V39l2.5-3.67Zm30.82 0l2.16 2.74a2.05 2.05 0 0 1 .34 1.13V39l-2.5-3.67Z"
                            stroke-width="1"
                          ></path>
                          <path
                            fill="#fffef2"
                            d="M24 37V11a3 3 0 0 0-3-3l-11.5.92a1.52 1.52 0 0 0-.91.58v29l12.63-.4A3.42 3.42 0 0 1 24 37m3-29a3 3 0 0 0-3 3v26a3.42 3.42 0 0 1 2.78 1.1l12.63.4v-29a1.52 1.52 0 0 0-.91-.58Z"
                          ></path>
                          <path
                            fill="#fff"
                            d="m21 8l-11.5.92a1.52 1.52 0 0 0-.91.58v2.92a1 1 0 0 1 .91-1L21 10.5a3 3 0 0 1 3 3V11a3 3 0 0 0-3-3m17.5.92L27 8a3 3 0 0 0-3 3v2.5a3 3 0 0 1 3-3l11.5.92a1 1 0 0 1 .91 1V9.5a1.52 1.52 0 0 0-.91-.58"
                          ></path>
                          <path
                            fill="none"
                            stroke="#45413c"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M24 37V11a3 3 0 0 0-3-3l-11.5.92a1.52 1.52 0 0 0-.91.58v29l12.63-.4A3.42 3.42 0 0 1 24 37m3-29a3 3 0 0 0-3 3v26a3.42 3.42 0 0 1 2.78 1.1l12.63.4v-29a1.52 1.52 0 0 0-.91-.58Z"
                            stroke-width="1"
                          ></path>
                          <path
                            fill="#fffce5"
                            stroke="#45413c"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M24 37a3 3 0 0 0-3-2.5l-12.41.83L6.09 39l15.09-.83A3.34 3.34 0 0 1 24 37m2.82 1.17l15.09.83l-2.5-3.67L27 34.5a3 3 0 0 0-2.95 2.5a3.34 3.34 0 0 1 2.77 1.17"
                            stroke-width="1"
                          ></path>
                          <path
                            fill="none"
                            stroke="#45413c"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="m20.5 11.5l-9 .86m9 2.97l-9 .86m9 2.97l-9 .85m9 2.98l-9 .85m9 2.97l-9 .86m9 2.97l-9 .86m16-20l9 .86m-9 2.97l9 .86m-9 2.97l9 .85m-9 2.98l9 .85m-9 2.97l9 .86m-9 2.97l9 .86"
                            stroke-width="1"
                          ></path>
                        </svg>
                        <span>集章冊</span>
                      </div>
                    </div> -->
                  <!-- <span class="arrow">&#10148;</span> -->
                  <!-- <div class="icon"> -->
                  <p>獲得積分</p>
                  <div class="game-icon menu">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="35"
                      height="31"
                      viewBox="0 0 35 31"
                      fill="none"
                    >
                      <path
                        data-v-1c8ab710=""
                        d="M24 2.64381C26.4323 4.0481 28.4521 6.06791 29.8564 8.50022C31.2607 10.9325 32 13.6916 32 16.5002C32 19.3088 31.2607 22.0679 29.8563 24.5002C28.452 26.9325 26.4322 28.9523 23.9998 30.3565C21.5675 31.7608 18.8084 32.5 15.9997 32.5C13.1911 32.5 10.432 31.7606 7.99974 30.3563C5.56744 28.9519 3.54766 26.9321 2.14342 24.4997C0.739168 22.0674 -7.13435e-05 19.3083 5.16424e-09 16.4997L0.00800019 15.9813C0.0976051 13.2181 0.901676 10.5253 2.34182 8.16536C3.78197 5.80543 5.80905 3.85893 8.22543 2.51563C10.6418 1.17232 13.365 0.478063 16.1296 0.500528C18.8942 0.522994 21.6058 1.26142 24 2.64381ZM16 6.89978C15.5757 6.89978 15.1687 7.06835 14.8686 7.36841C14.5686 7.66846 14.4 8.07543 14.4 8.49977C13.127 8.49977 11.9061 9.00548 11.0059 9.90565C10.1057 10.8058 9.6 12.0267 9.6 13.2997C9.6 14.5728 10.1057 15.7937 11.0059 16.6938C11.9061 17.594 13.127 18.0997 14.4 18.0997V21.2997C14.1346 21.3144 13.8697 21.264 13.6283 21.1531C13.3868 21.0421 13.1761 20.8738 13.0144 20.6629L12.9056 20.5013C12.6867 20.1482 12.3391 19.8942 11.9362 19.7928C11.5334 19.6915 11.1069 19.7507 10.747 19.9581C10.3871 20.1655 10.1219 20.5048 10.0076 20.9041C9.89326 21.3035 9.93874 21.7316 10.1344 22.0981C10.5428 22.8063 11.1253 23.3985 11.8267 23.8185C12.5282 24.2386 13.3252 24.4725 14.1424 24.4981H14.4C14.3997 24.8902 14.5434 25.2688 14.8038 25.562C15.0643 25.8552 15.4233 26.0426 15.8128 26.0884L16 26.0996C16.4243 26.0996 16.8313 25.9311 17.1314 25.631C17.4314 25.331 17.6 24.924 17.6 24.4997L17.8816 24.4917C19.129 24.4196 20.2991 23.8639 21.1433 22.9428C21.9875 22.0217 22.4392 20.8077 22.4026 19.5588C22.3659 18.3099 21.8437 17.1245 20.9469 16.2545C20.0501 15.3846 18.8494 14.8985 17.6 14.8997V11.6997C18.1728 11.6805 18.6736 11.9237 18.9856 12.3365L19.0944 12.4981C19.3133 12.8512 19.6609 13.1052 20.0638 13.2066C20.4666 13.308 20.8931 13.2487 21.253 13.0413C21.6129 12.8339 21.8781 12.4947 21.9924 12.0953C22.1067 11.6959 22.0613 11.2678 21.8656 10.9014C21.4574 10.1928 20.875 9.60027 20.1735 9.17997C19.4721 8.75967 18.6749 8.52553 17.8576 8.49977H17.6C17.6 8.07543 17.4314 7.66846 17.1314 7.36841C16.8313 7.06835 16.4243 6.89978 16 6.89978ZM17.6 18.0997C18.0243 18.0997 18.4313 18.2683 18.7314 18.5683C19.0314 18.8684 19.2 19.2753 19.2 19.6997C19.2 20.124 19.0314 20.531 18.7314 20.831C18.4313 21.1311 18.0243 21.2997 17.6 21.2997V18.0997ZM14.4 11.6997V14.8997C13.9757 14.8997 13.5687 14.7312 13.2686 14.4311C12.9686 14.131 12.8 13.7241 12.8 13.2997C12.8 12.8754 12.9686 12.4684 13.2686 12.1684C13.5687 11.8683 13.9757 11.6997 14.4 11.6997Z"
                        fill="#FCD34D"
                      ></path>
                    </svg>
                    <!-- <span>獎勵領取</span> -->
                  </div>
                  <!-- </div> -->
                  <!-- <span class="arrow">&#10148;</span> -->
                  <!-- <div class="icon"> -->
                  <p>完成任務</p>
                  <svg
                    data-v-54e911a7=""
                    class="r-24"
                    width="43"
                    height="54"
                    viewBox="0 0 43 54"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      data-v-54e911a7=""
                      d="M0 0.723145V53.6222"
                      stroke="black"
                      stroke-width="5"
                    ></path>
                    <path
                      data-v-54e911a7=""
                      d="M43 16.8611L1.75 33.1961V0.5271L43 16.8611Z"
                      fill="#FF0000"
                    ></path>
                  </svg>
                  <!-- </div> -->
                </div>
                <!-- </ol> -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="slider" v-if="type === 'gameRules'">
      <button class="pre" @click="prevSlide" :disabled="activeSlide === 0">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="32"
          height="42"
          viewBox="0 0 32 42"
          fill="none"
        >
          <path d="M0 21L32 0V42L0 21Z" fill="black" />
        </svg>
      </button>

      <button class="next" @click="nextSlide" :disabled="activeSlide === 2">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="32"
          height="42"
          viewBox="0 0 32 42"
          fill="none"
        >
          <path d="M32 21L0 0V42L32 21Z" fill="black" />
        </svg>
      </button>

      <!-- <button @click="$emit('close')" class="btn_filled small close-filled">
        我知道了
      </button> -->
    </div>
  </div>
</template>
<script>
import TaskDisplay from "./TaskDisplay.vue";
import BadgeDisplay from "./BadgeDisplay.vue";
import { type } from "jquery";

export default {
  props: {
    type: String,
    gameData: Object, // 接收遊戲數據
  },
  components: {
    TaskDisplay,
    BadgeDisplay,
  },
  data() {
    return {
      activeTab: "special",
      activeSlide: 0,
      // Destination: [],
      badgeData: {
        task: {
          info: "定位打卡於 “淡水捷運站” 附近 1 公里內，即可蒐集到此章，並獲得 10 點積分",
          icon: `
           <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="42"
                        height="51"
                        viewBox="0 0 42 51"
                        fill="none"
                      >
                        <path
                          d="M36.1667 24.208H23.25V11.2913H36.1667M32.2917 39.708C31.264 39.708 30.2783 39.2997 29.5516 38.573C28.8249 37.8463 28.4167 36.8607 28.4167 35.833C28.4167 34.8053 28.8249 33.8197 29.5516 33.093C30.2783 32.3663 31.264 31.958 32.2917 31.958C33.3194 31.958 34.305 32.3663 35.0317 33.093C35.7584 33.8197 36.1667 34.8053 36.1667 35.833C36.1667 36.8607 35.7584 37.8463 35.0317 38.573C34.305 39.2997 33.3194 39.708 32.2917 39.708ZM18.0833 24.208H5.16667V11.2913H18.0833M9.04167 39.708C8.01395 39.708 7.02833 39.2997 6.30163 38.573C5.57492 37.8463 5.16667 36.8607 5.16667 35.833C5.16667 34.8053 5.57492 33.8197 6.30163 33.093C7.02833 32.3663 8.01395 31.958 9.04167 31.958C10.0694 31.958 11.055 32.3663 11.7817 33.093C12.5084 33.8197 12.9167 34.8053 12.9167 35.833C12.9167 36.8607 12.5084 37.8463 11.7817 38.573C11.055 39.2997 10.0694 39.708 9.04167 39.708ZM20.6667 0.958008C9.24833 0.958008 0 2.24967 0 11.2913V35.833C0 38.231 0.952602 40.5308 2.64824 42.2264C4.34388 43.9221 6.64367 44.8747 9.04167 44.8747L5.16667 48.7497V50.0413H36.1667V48.7497L32.2917 44.8747C34.6897 44.8747 36.9895 43.9221 38.6851 42.2264C40.3807 40.5308 41.3333 38.231 41.3333 35.833V11.2913C41.3333 2.24967 32.085 0.958008 20.6667 0.958008Z"
                          fill="white"
                        />
                      </svg>
                  
                       <div  style="font-size:12px;font-weight: bold;">淡水線</div>`,
          text: "淡水線",
          point: "10",
        },
        achievement: {
          info:
            "淡水信義線一日遊任務，完成並通過審核，並且問答回答正確，即可獲得100點積分",
          icon: `
    
          <svg xmlns="http://www.w3.org/2000/svg" width="54" height="64" viewBox="0 0 54 64" fill="none">
  <path d="M53.0836 55.5717L40.4969 51.2623L36.1653 63.8445L26.4977 44.9712L17.3324 63.8445L13.0008 51.2623L0.414062 55.5717L9.57945 36.6984C6.4624 32.7987 4.76806 27.9489 4.77704 22.9524C4.77704 17.1126 7.09192 11.5121 11.2124 7.38275C15.3329 3.25342 20.9216 0.933594 26.7488 0.933594C32.5761 0.933594 38.1647 3.25342 42.2853 7.38275C46.4058 11.5121 48.7207 17.1126 48.7207 22.9524C48.7207 28.1425 46.9315 32.9238 43.9182 36.6984L53.0836 55.5717ZM11.0547 22.9524L19.4981 27.1674L18.9018 36.604L26.7488 31.3825L34.5959 36.5726L34.0623 27.1674L42.443 22.9524L34.0309 18.7059L34.5959 9.33219L26.7488 14.4909L18.9018 9.26928L19.4354 18.7374L11.0547 22.9524Z" fill="white"/>
</svg>`,
          text: "一日遊",
          point: "100",
        },
        special: {
          info: "完成所有的半+一日遊(全線)即可蒐集到此成就，並獲得 5000 點積分",
          icon: `    <div  style="font-size:16px;font-weight: bold;">
          全制霸</div>
        `,
          text: "成就 x 1",
          point: "5000",
        },
      },
      locationTasks: [
        { progress: 75, title: "紅樹林站", line: "red" },
        { progress: 100, title: "淡水站", line: "red" },
        { progress: 75, title: "竹圍站", line: "red" },
        { progress: 75, title: "關渡站", line: "red" },
        { progress: 75, title: "北投站", line: "red" },
        { progress: 75, title: "新北投站", line: "red" },
        { progress: 75, title: "奇岩站", line: "red" },
        { progress: 75, title: "明德站", line: "red" },
        { progress: 75, title: "士林站", line: "red" },
        { progress: 75, title: "劍潭站", line: "red" },
        { progress: 75, title: "中山站", line: "red" },
        { progress: 75, title: "台北車站", line: "red" },
        { progress: 75, title: "台大醫院", line: "red" },
        { progress: 75, title: "中正紀念堂", line: "red" },
        { progress: 75, title: "東門", line: "red" },
        { progress: 75, title: "大安森林公園", line: "red" },
        { progress: 75, title: "信義安和", line: "red" },
        { progress: 75, title: "大安", line: "red" },
        { progress: 75, title: "台北101/世貿", line: "red" },
        { progress: 75, title: "象山", line: "red" },
        { progress: 75, title: "頂埔", line: "blue" },
        { progress: 75, title: "永寧", line: "blue" },
        { progress: 75, title: "土城", line: "blue" },
        { progress: 75, title: "海山", line: "blue" },
        { progress: 75, title: "亞東醫院", line: "blue" },
        { progress: 75, title: "府中", line: "blue" },
        { progress: 75, title: "板橋", line: "blue" },
        { progress: 75, title: "新埔", line: "blue" },
        { progress: 75, title: "江子翠", line: "blue" },
        { progress: 75, title: "龍山寺", line: "blue" },
        { progress: 75, title: "西門", line: "blue" },
        { progress: 75, title: "台北車站", line: "blue" },
        { progress: 75, title: "善導寺", line: "blue" },
        { progress: 75, title: "忠孝新生", line: "blue" },
        { progress: 75, title: "忠孝復興", line: "blue" },
        { progress: 75, title: "忠孝敦化", line: "blue" },
        { progress: 75, title: "國父紀念館", line: "blue" },
        { progress: 75, title: "市政府", line: "blue" },
        { progress: 75, title: "永春", line: "blue" },
        { progress: 75, title: "後山埤", line: "blue" },
        { progress: 75, title: "昆陽", line: "blue" },
        { progress: 75, title: "南港", line: "blue" },
        { progress: 75, title: "南港展覽館", line: "blue" },
        { progress: 75, title: "新店", line: "green" },
        { progress: 75, title: "新店", line: "green" },
        { progress: 75, title: "七張", line: "green" },
        { progress: 75, title: "小碧潭", line: "green" },
        { progress: 75, title: "大坪林", line: "green" },
        { progress: 75, title: "景美", line: "green" },
        { progress: 75, title: "萬隆", line: "green" },
        { progress: 75, title: "公館", line: "green" },
        { progress: 75, title: "台電大樓", line: "green" },
        { progress: 75, title: "古亭", line: "green" },
        { progress: 75, title: "中正紀念堂", line: "green" },
        { progress: 75, title: "小南門", line: "green" },
        { progress: 75, title: "西門", line: "green" },
        { progress: 75, title: "北門", line: "green" },
        { progress: 75, title: "中山", line: "green" },
        { progress: 75, title: "松江南京", line: "green" },
        { progress: 75, title: "南京復興", line: "green" },
        { progress: 75, title: "台北小巨蛋", line: "green" },
        { progress: 75, title: "南京三民", line: "green" },
        { progress: 75, title: "松山", line: "green" },
        { progress: 75, title: "南勢角", line: "yellow" },
        { progress: 75, title: "景安", line: "yellow" },
        { progress: 75, title: "永安市場", line: "yellow" },
        { progress: 75, title: "頂溪", line: "yellow" },
        { progress: 75, title: "古亭", line: "yellow" },
        { progress: 75, title: "東門", line: "yellow" },
        { progress: 75, title: "忠孝新生", line: "yellow" },
        { progress: 75, title: "松江南京", line: "yellow" },
        { progress: 75, title: "行天宮", line: "yellow" },
        { progress: 75, title: "中山國小", line: "yellow" },
        { progress: 75, title: "民權西路", line: "yellow" },
        { progress: 75, title: "大橋頭", line: "yellow" },
        { progress: 75, title: "台北橋", line: "yellow" },
        { progress: 75, title: "菜寮", line: "yellow" },
        { progress: 75, title: "三重", line: "yellow" },
        { progress: 75, title: "先嗇宮", line: "yellow" },
        { progress: 75, title: "頭前庄", line: "yellow" },
        { progress: 75, title: "新莊", line: "yellow" },
        { progress: 75, title: "輔大", line: "yellow" },
        { progress: 75, title: "丹鳳", line: "yellow" },
        { progress: 75, title: "迴龍", line: "yellow" },
        { progress: 75, title: "三重國小", line: "yellow" },
        { progress: 75, title: "三和國中", line: "yellow" },
        { progress: 75, title: "徐匯中學", line: "yellow" },
        { progress: 75, title: "三民高中", line: "yellow" },
        { progress: 75, title: "蘆洲", line: "yellow" },
        { progress: 75, title: "動物園", line: "brown" },
        { progress: 75, title: "木柵", line: "brown" },
        { progress: 75, title: "萬芳社區", line: "brown" },
        { progress: 75, title: "萬芳醫院", line: "brown" },
        { progress: 75, title: "辛亥", line: "brown" },
        { progress: 75, title: "麟光", line: "brown" },
        { progress: 75, title: "六張犁", line: "brown" },
        { progress: 75, title: "科技大樓", line: "brown" },
        { progress: 75, title: "大安", line: "brown" },
        { progress: 75, title: "忠孝復興", line: "brown" },
        { progress: 75, title: "南京復興", line: "brown" },
        { progress: 75, title: "中山國中", line: "brown" },
        { progress: 75, title: "松山機場", line: "brown" },
        { progress: 75, title: "大直", line: "brown" },
        { progress: 75, title: "劍南路", line: "brown" },
        { progress: 75, title: "西湖", line: "brown" },
        { progress: 75, title: "港墘", line: "brown" },
        { progress: 75, title: "文德", line: "brown" },
        { progress: 75, title: "內湖", line: "brown" },
        { progress: 75, title: "大湖公園", line: "brown" },
        { progress: 75, title: "葫洲", line: "brown" },
        { progress: 75, title: "東湖", line: "brown" },
        { progress: 75, title: "南港軟體園區", line: "brown" },
        { progress: 75, title: "南港展覽館", line: "brown" },
      ],
      locationBadges: ["時光旅人", "打卡全制霸"],
      achievementTasks: [
        { progress: 30, title: "時光旅人" },
        { progress: 30, title: "遇見" },
        { progress: 30, title: "文湖線" },
        { progress: 30, title: "淡水線" },
        { progress: 30, title: "松山線" },
        { progress: 30, title: "中和線" },
        { progress: 30, title: "板南線" },
        { progress: 60, title: "打卡全制霸" },
        { progress: 60, title: "全制霸" },
      ],
      achievementBadges: ["半日遊", "一日遊"],
      specialTasks: [
        { progress: 80, title: "淡水信義線" },
        { progress: 100, title: "板南線" },
      ],
      specialBadges: ["成就徽章 1", "成就徽章 2"],
    };
  },
  methods: {
    prevSlide() {
      if (this.activeSlide > 0) this.activeSlide--;
    },
    nextSlide() {
      if (this.activeSlide < 2) this.activeSlide++;
    },
    claimTaskReward(tab, index) {
      if (tab === "定位任務") {
        this.locationTasks[index].progress = 100;
      } else if (tab === "成就任務") {
        this.achievementTasks[index].progress = 100;
      } else if (tab === "特殊任務") {
        this.specialTasks[index].progress = 100;
      }
    },
  },
  computed: {
    redTasks() {
      return this.locationTasks.filter((task) => task.line === "red");
    },
    blueTasks() {
      return this.locationTasks.filter((task) => task.line === "blue");
    },
    greenTasks() {
      return this.locationTasks.filter((task) => task.line === "green");
    },
    yellowTasks() {
      return this.locationTasks.filter((task) => task.line === "yellow");
    },
    brownTasks() {
      return this.locationTasks.filter((task) => task.line === "brown");
    },
    // 只顯示已完成的定位任務徽章
    completedLocationBadges() {
      return this.locationTasks
        .map((task, index) => (task.progress === 100 ? this.locationBadges[index] : null))
        .filter((badge) => badge !== null);
    },

    // 只顯示已完成的成就任務徽章
    completedAchievementBadges() {
      return this.achievementTasks
        .map((task, index) =>
          task.progress === 100 ? this.achievementBadges[index] : null
        )
        .filter((badge) => badge !== null);
    },
    badge() {
      return this.badgeData[this.activeTab] || {};
    },

    // 只顯示已完成的特殊遊戲徽章
    completedSpecialBadges() {
      return this.specialTasks
        .map((task, index) => (task.progress === 100 ? this.specialBadges[index] : null))
        .filter((badge) => badge !== null);
    },
    // mounted() {
    //   fetch(`	https://tcgmetro.blob.core.windows.net/stationnames/stations.json`)
    //     .then((response) => response.json())
    //     .then((data) => {
    //       this.locationTasks = this.locationTasks.map((task, index) => ({
    //         progress: task.progress,
    //         title: data[index] ? data[index].Destination : task.title,
    //       }));
    //     });
    // },
  },
};
</script>
<style lang="scss" scoped>
@import "@/assets/sass/base/_color.scss";
@import "@/assets/sass/base/_font.scss";
@import "@/assets/sass/component/_btn.scss";
@import "@/assets/sass/mixin/_mixin.scss";
@import "@/assets/sass/component/_modal_menu.scss";
</style>
